<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>blep.click â€” boop the snoot</title>
  <style>
    :root { --bg:#ffd92e; }
    html, body {
      height: 100%;
      margin: 0;
      background-color: var(--bg); /* Set background color to #ffd92e */
    }
    #catImg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: auto;
      object-fit: contain;
      object-position: top;
      display: block;
      z-index: 0;
    }
    #targetArea {
      position: absolute;
      width: 50px;
      height: 50px;
      top: 26%; /* 25% of the image height from the top */
      left: 51%; /* 50% of the image width from the left */
      transform: translate(-50%, -50%);
      cursor: pointer;
      z-index: 1;
    }
    /* Prevent text selection and focus highlight */
    #catImg, #targetArea {
      user-select: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    #blepCounterContainer {
      position: fixed;
      bottom: 25%; /* Align with the blep counter */
      left: 12.5%; /* Space the same off the left side */
      display: flex;
      align-items: center;
      font-size: 30pt; /* Match the blep counter font size */
      font-weight: bold;
      color: white;
      z-index: 2;
    }
    #countryFlag {
      width: 40px;
      height: 30px;
      margin-right: 10px; /* Add spacing between the flag and the counter */
    }
    #leaderboard {
      position: fixed;
      top: 40%; /* Center vertically */
      right: 2%;
      transform: translateY(-50%); /* Adjust for perfect centering */
      width: 275px;
      border: 2px solid white;
      padding: 5px;
      font-size: 14pt;
      font-family: Helvetica, Arial, sans-serif;
      color: white;
      z-index: 2;
      animation: bob 2s infinite; /* Add bobbing animation */
    }
    #leaderboard h2 {
      font-weight: bold;
      text-align: center;
      margin: 0 0 5px 0;
      background-color: rgba(0, 0, 0, 0.35); /* Keep full opacity under heading */
      padding: 5px;
    }
    .leaderboard-list {
      background-color: rgba(0, 0, 0, 0.15); /* Set 15% opacity under country list */
      padding: 5px;
    }
    .leaderboard-item {
      display: flex;
      align-items: center;
      justify-content: space-between; /* Add space between flag and count */
      margin-bottom: 8px;
    }
    .leaderboard-item img {
      width: 30px;
      height: 20px;
      margin-right: 10px;
    }

    @keyframes bob {
      0%, 100% {
        transform: translateY(-50%); /* Centered */
      }
      50% {
        transform: translateY(calc(-50% + 4px)); /* Move down by 4px */
      }
    }
  </style>
</head>
<body>
  <!-- Removed all other elements except the image -->
  <img id="catImg" src="img/in.jpg" alt="Cat image" />
  <div id="targetArea"></div>
  <div id="blepCounterContainer">
    <img id="countryFlag" src="" alt="Country flag" />
    <span id="blepCounter">0</span>
  </div>
  <div id="leaderboard">
    <h2>Leader Board</h2>
    <div class="leaderboard-list">
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/us.png" alt="USA flag" /> USA</div>
        <span>12,345,678</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/ca.png" alt="Canada flag" /> Canada</div>
        <span>9,876,543</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/gb.png" alt="UK flag" /> UK</div>
        <span>8,765,432</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/de.png" alt="Germany flag" /> Germany</div>
        <span>7,654,321</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/fr.png" alt="France flag" /> France</div>
        <span>6,543,210</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/jp.png" alt="Japan flag" /> Japan</div>
        <span>5,432,109</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/in.png" alt="India flag" /> India</div>
        <span>4,321,098</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/au.png" alt="Australia flag" /> Australia</div>
        <span>3,210,987</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/br.png" alt="Brazil flag" /> Brazil</div>
        <span>2,109,876</span>
      </div>
      <div class="leaderboard-item">
        <div><img src="https://flagcdn.com/w40/za.png" alt="South Africa flag" /> South Africa</div>
        <span>1,098,765</span>
      </div>
    </div>
  </div>
  <script>
      const catImg = document.getElementById('catImg');
      const targetArea = document.getElementById('targetArea');
      const blepSound = new Audio('blep.wav');
      let blepCount = 0;
      const blepCounter = document.getElementById('blepCounter');
      const countryFlag = document.getElementById('countryFlag');

      targetArea.addEventListener('mousedown', () => {
        catImg.src = 'img/out.jpg';
        blepSound.currentTime = 0; // Reset sound to the beginning
        blepSound.play(); // Play the sound

        // Increment and update the blep counter
        blepCount++;
        blepCounter.textContent = blepCount;
      });

      targetArea.addEventListener('mouseup', () => {
        catImg.src = 'img/in.jpg';
      });

      // Fetch and display the user's country flag
      fetch('https://ipapi.co/json/?fields=country_code,country_name')
        .then(response => response.json())
        .then(data => {
          countryFlag.src = `https://flagcdn.com/w40/${data.country_code.toLowerCase()}.png`;
          countryFlag.alt = `${data.country_name} flag`;
        })
        .catch(() => {
          countryFlag.alt = 'Flag unavailable';
        });
    </script>
</body>
</html>